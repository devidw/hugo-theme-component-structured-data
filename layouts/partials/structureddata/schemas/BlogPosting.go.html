{{ $ISO8601 := "2006-01-02T15:04:05-07:00" }}

<script type="application/ld+json">
	{
		"@context": "http://schema.org",
		"@type": "BlogPosting",
		"mainEntityOfPage": {
			"@type": "WebPage",
			"@id": {{ .Site.BaseURL }}
		},
		"datePublished": {{ .Date.Format $ISO8601 }},
		"dateModified": {{ .Lastmod.Format $ISO8601 | default (.Date.Format $ISO8601) }},
		"url": {{ .Permalink }},
		{{- if .Site.Params.Author }}
		"author": {
			"@type": "Person",
			"name": {{ .Site.Params.Author }}
		},
		{{- end }}
		"headline": {{ .Title }},
		{{- if .Description }}
		"description": {{ .Description }},
		{{- end }}
		"inLanguage": {{ .Site.LanguageCode }},
		"articleSection": {{ .Section }},
		"articleBody": {{ .Plain }},
		"wordCount": {{ .Content | countwords }},
	}
</script>
